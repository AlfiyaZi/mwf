mwf.forms=new function(){this.init=function(){if(mwf.capability.input.placeholder()){d()}if(mwf.capability.input.required()){c()}if(mwf.capability.inputtypes.color()){e("color")}if(mwf.capability.inputtypes.search()){e("search")}if(mwf.capability.inputtypes.number()){b("number")}if(mwf.capability.inputtypes.range()){b("range")}if(mwf.capability.inputtypes.tel()){e("tel")}if(mwf.capability.inputtypes.url()){e("url")}if(mwf.capability.inputtypes.email()){e("email")}if(mwf.capability.inputtypes.date()){a("date")}if(mwf.capability.inputtypes.month()){a("month")}if(mwf.capability.inputtypes.week()){a("week")}if(mwf.capability.inputtypes.datetime()){a("datetime")}if(mwf.capability.inputtypes.time()){a("time")}function c(){$(".required").each(function(){$(this).next(":input").attr("required","required")})}function d(){$(".placeholder").each(function(){$(this).prev(":input").attr("placeholder",$(this).html())})}function e(f){$("."+f+"-field").each(function(){var g=$(this);var h=g.clone();h.attr("type",f);h.removeClass(f+"-field");h.addClass("simple-transform-field");h.insertAfter(g);g.addClass("hide")})}function b(f){$("."+f+"-field").each(function(){var i=$(this);var h=i.find("option:first-child").attr("value");var g=i.find("option:last-child").attr("value");var j=i.find("option:nth-child(2)").attr("value");j-=h;var k=i.find("option:selected").attr("value");var l=$('<input type="'+f+'" />');l.attr("min",h);l.attr("max",g);l.attr("value",k);l.attr("step",j);l.addClass("range-transform-field");l.insertAfter(i);i.addClass("hide")})}function a(i){$("."+i+"-field").each(function(){var n=$(this);var l=false;if(n.find(".minute").size()>0){l=true}var m=false;if(n.find(".hour").size()>0){m=true}var F=false;if(n.find(".day").size()>0){F=true}var w=false;if(n.find(".week").size()>0){w=true}var v=false;if(n.find(".month").size()>0){v=true}var t=false;if(n.find(".year").size()>0){t=true}var E="00";var A="00";var q="00";if(l){E=g(n,"minute");A=h(n,"minute");q=f(n,"minute")}var C="00";var J="00";var G="00";if(m){C=g(n,"hour");J=h(n,"hour");G=f(n,"hour")}var x="01";var p="01";var u="01";if(F){x=g(n,"day");p=h(n,"day");u=f(n,"day")}var o="01";var s="01";var r="01";if(w){o=g(n,"week");s=h(n,"week");r=f(n,"week")}var H="01";var k="01";var z="01";if(v){H=g(n,"month");k=h(n,"month");z=f(n,"month")}var K="1900";var j="1900";var L="1900";if(t){K=g(n,"year");j=h(n,"year");L=f(n,"year")}var I=$('<input type="'+i+'" />');var B="";var D="";var y="";if(t){B+=K;D+=j;y+=L}if(v){B+="-";B+=H;D+="-";D+=k;y+="-";y+=z}if(w){B+="-W";B+=o;D+="-W";D+=s;y+="-W";y+=r}if(F){B+="-";B+=x;D+="-";D+=p;y+="-";y+=u}if(i==="datetime"&&(m||l)){B+="T";D+="T";y+="T"}if(m||l){B+=C+":"+E+":00";D+=J+":"+A+":00";y+=G+":"+q+":00"}I.attr("min",B);I.attr("max",D);I.attr("value",y);I.removeClass(i+"-field");if(i==="time"){I.addClass("time-transform-field")}else{I.addClass("datetime-transform-field")}I.insertAfter(n);n.addClass("hide")});function g(j,k){return j.find("."+k+" option:first-child").attr("value")}function h(j,k){return j.find("."+k+" option:last-child").attr("value")}function f(j,k){return j.find("."+k+" option:selected").attr("value")}}$(".simple-transform-field").change(function(){var f=$(this);f.prev().val(f.val())});$(".range-transform-field").change(function(){var f=$(this);f.prev().val(f.val())});$(".datetime-transform-field").change(function(){var h=$(this);var f=h.prev();var j=h.val().split("T");var g=j[0].split("-");f.find(".year").val(g[0]);if(g.length>1){if(g[1].lastIndexOf("W",0)===0){var i=g[1].length;f.find(".week").val(g[1].substring(1,i))}else{f.find(".month").val(g[1])}}if(g.length>2){f.find(".day").val(g[2])}g=j[1].split(":");f.find(".hour").val(g[0]);f.find(".minute").val(g[1])});$(".time-transform-field").change(function(){var h=$(this);var f=h.prev();var j=h.val().split(":");for(var g=0;g<j.length;g++){f.find(".hour").val(j[0]);f.find(".minute").val(j[1])}});$("form").each(function(){$(this).validate({errorClass:"invalid",errorElement:"p"})})}};