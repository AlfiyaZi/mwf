mwf.forms=new function(){};mwf.forms.init=function(a){(function(f){var c=f.extend({selector:"form"},a);if(mwf.capability.input.placeholder()){g()}if(mwf.capability.input.required()){e()}if(mwf.capability.inputtypes.color()){h("color")}if(mwf.capability.inputtypes.search()){h("search")}if(mwf.capability.inputtypes.number()){d("number")}if(mwf.capability.inputtypes.range()){d("range")}if(mwf.capability.inputtypes.tel()){h("tel")}if(mwf.capability.inputtypes.url()){h("url")}if(mwf.capability.inputtypes.email()){h("email")}if(mwf.capability.inputtypes.date()){b("date")}if(mwf.capability.inputtypes.month()){b("month")}if(mwf.capability.inputtypes.week()){b("week")}if(mwf.capability.inputtypes.datetime()){b("datetime")}if(mwf.capability.inputtypes.time()){b("time")}function e(){f(c.selector+" .required").each(function(){f(this).next(":input").attr("required","required")})}function g(){f(c.selector+" .placeholder").each(function(){f(this).prev(":input").attr("placeholder",f(this).html())})}function h(i){f(c.selector+" ."+i+"-field").each(function(){var j=f(this);var k=j.clone();k.attr("type",i);k.removeClass(i+"-field");k.addClass("simple-transform-field");k.insertAfter(j);j.addClass("hide")})}function d(i){f("."+i+"-field").each(function(){var l=f(this);var k=l.find("option:first-child").attr("value");var j=l.find("option:last-child").attr("value");var m=l.find("option:nth-child(2)").attr("value");m-=k;var n=l.find("option:selected").attr("value");var o=f('<input type="'+i+'" />');o.attr("min",k);o.attr("max",j);o.attr("value",n);o.attr("step",m);o.addClass("range-transform-field");o.insertAfter(l);l.addClass("hide")})}function b(l){f("."+l+"-field").each(function(){var q=f(this);var o=false;if(q.find(".minute").size()>0){o=true}var p=false;if(q.find(".hour").size()>0){p=true}var I=false;if(q.find(".day").size()>0){I=true}var z=false;if(q.find(".week").size()>0){z=true}var y=false;if(q.find(".month").size()>0){y=true}var w=false;if(q.find(".year").size()>0){w=true}var H="00";var D="00";var t="00";if(o){H=j(q,"minute");D=k(q,"minute");t=i(q,"minute")}var F="00";var M="00";var J="00";if(p){F=j(q,"hour");M=k(q,"hour");J=i(q,"hour")}var A="01";var s="01";var x="01";if(I){A=j(q,"day");s=k(q,"day");x=i(q,"day")}var r="01";var v="01";var u="01";if(z){r=j(q,"week");v=k(q,"week");u=i(q,"week")}var K="01";var n="01";var C="01";if(y){K=j(q,"month");n=k(q,"month");C=i(q,"month")}var N="1900";var m="1900";var O="1900";if(w){N=j(q,"year");m=k(q,"year");O=i(q,"year")}var L=f('<input type="'+l+'" />');var E="";var G="";var B="";if(w){E+=N;G+=m;B+=O}if(y){E+="-";E+=K;G+="-";G+=n;B+="-";B+=C}if(z){E+="-W";E+=r;G+="-W";G+=v;B+="-W";B+=u}if(I){E+="-";E+=A;G+="-";G+=s;B+="-";B+=x}if(l==="datetime"&&(p||o)){E+="T";G+="T";B+="T"}if(p||o){E+=F+":"+H+":00";G+=M+":"+D+":00";B+=J+":"+t+":00"}L.attr("min",E);L.attr("max",G);L.attr("value",B);L.removeClass(l+"-field");if(l==="time"){L.addClass("time-transform-field")}else{L.addClass("datetime-transform-field")}L.insertAfter(q);q.addClass("hide")});function j(m,n){return m.find("."+n+" option:first-child").attr("value")}function k(m,n){return m.find("."+n+" option:last-child").attr("value")}function i(m,n){return m.find("."+n+" option:selected").attr("value")}}f(".simple-transform-field").change(function(){var i=f(this);i.prev().val(i.val())});f(".range-transform-field").change(function(){var i=f(this);i.prev().val(i.val())});f(".datetime-transform-field").change(function(){var k=f(this);var i=k.prev();var m=k.val().split("T");var j=m[0].split("-");i.find(".year").val(j[0]);if(j.length>1){if(j[1].lastIndexOf("W",0)===0){var l=j[1].length;i.find(".week").val(j[1].substring(1,l))}else{i.find(".month").val(j[1])}}if(j.length>2){i.find(".day").val(j[2])}j=m[1].split(":");i.find(".hour").val(j[0]);i.find(".minute").val(j[1])});f(".time-transform-field").change(function(){var l=f(this);var j=l.prev();var m=l.val().split(":");for(var k=0;k<m.length;k++){j.find(".hour").val(m[0]);j.find(".minute").val(m[1])}});f("form").each(function(){f(this).validate({errorClass:"invalid",errorElement:"p"})})})(jQuery)};