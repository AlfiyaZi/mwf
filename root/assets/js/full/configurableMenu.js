mwf.full.configurableMenu=new function(){var a=function(d){var b=null;if(mwf.standard.preferences.isSupported()){var f=mwf.standard.preferences.get(d);if(f!==null){try{b=JSON.parse(f)}catch(c){b=null}}}return b};this.render=function(k,h,b,c){var g=document.getElementById(k);if(g===null){return}var m="";var l=a(h);if(l===null){l={};l.on=[];for(var j in b){if(b.hasOwnProperty(j)){l.on.push(+j);m+=b[j]}}if(mwf.standard.preferences.isSupported()){mwf.standard.preferences.set(h,JSON.stringify(l))}}else{var e;if(!l.hasOwnProperty("on")){l.on=[]}var f=l.on;for(e=0;e<f.length;e++){if(b.hasOwnProperty(f[e])){m+=b[f[e]]}}var d=l.hasOwnProperty("off")?l.off:[];for(e in b){if(b.hasOwnProperty(e)){if(d.indexOf(+e)==-1&&f.indexOf(+e)==-1){l.on.push(+e);m+=b[e]}}}if(mwf.standard.preferences.isSupported()){mwf.standard.preferences.set(h,JSON.stringify(l))}if(c){for(e=0;e<d.length;e++){if(c.hasOwnProperty(d[e])){m+=c[d[e]]}}}}g.innerHTML=m};this.set=function(d,e,b){var f=b?"on":"off";var c=a(d);if(c==null){c={}}if(!c.hasOwnProperty(f)){c[f]=[e]}else{if(c[f].indexOf(e)==-1){c[f].push(+e)}}otherProp=f=="on"?"off":"on";if(c.hasOwnProperty(otherProp)){while(c[otherProp].indexOf(e)!=-1){c[otherProp].splice(c[otherProp].indexOf(e),1)}}mwf.standard.preferences.set(d,JSON.stringify(c))};this.moveUp=function(d,e){keys=a(d);if(keys.hasOwnProperty("on")){var c=keys.on.indexOf(e);if(c>0){var b=keys.on[c];keys.on[c]=keys.on[c-1];keys.on[c-1]=b;mwf.standard.preferences.set(d,JSON.stringify(keys))}}};this.moveDown=function(d,e){keys=a(d);if(keys.hasOwnProperty("on")){var c=keys.on.indexOf(e);if(c>-1&&c<keys.on.length-1){var b=keys.on[c];keys.on[c]=keys.on[c+1];keys.on[c+1]=b;mwf.standard.preferences.set(d,JSON.stringify(keys))}}}};