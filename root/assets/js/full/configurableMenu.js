mwf.full.configurableMenu=new function(){var b=function(f){var c=null;if(mwf.standard.preferences.isSupported()){var g=mwf.standard.preferences.get(f);if(g!==null){try{c=JSON.parse(g)}catch(d){c=null}}}return c};var a=function(d,c){return(c.indexOf(d)>=0||c.indexOf(+d)>=0)};this.render=function(l,j,c,d){var h=document.getElementById(l);if(h===null){return}var n="";var m=b(j);if(m===null){m={};m.on=[];for(var k in c){if(c.hasOwnProperty(k)){m.on.push(+k);n+=c[k]}}if(mwf.standard.preferences.isSupported()){mwf.standard.preferences.set(j,JSON.stringify(m))}}else{var f;if(!m.hasOwnProperty("on")){m.on=[]}var g=m.on;for(f=0;f<g.length;f++){if(c.hasOwnProperty(g[f])){n+=c[g[f]]}}var e=m.hasOwnProperty("off")?m.off:[];for(f in c){if(c.hasOwnProperty(f)){if(!(a(f,e)||a(f,g))){m.on.push(+f);n+=c[f]}}}if(mwf.standard.preferences.isSupported()){mwf.standard.preferences.set(j,JSON.stringify(m))}if(d){for(f=0;f<e.length;f++){if(d.hasOwnProperty(e[f])){n+=d[e[f]]}}}}h.innerHTML=n};this.set=function(e,f,c){var g=c?"on":"off";var d=b(e);if(d==null){d={}}if(!d.hasOwnProperty(g)){d[g]=[f]}else{if(d[g].indexOf(f)==-1){d[g].push(+f)}}otherProp=g=="on"?"off":"on";if(d.hasOwnProperty(otherProp)){while(d[otherProp].indexOf(f)!=-1){d[otherProp].splice(d[otherProp].indexOf(f),1)}}mwf.standard.preferences.set(e,JSON.stringify(d))};this.moveUp=function(e,f){keys=b(e);if(keys.hasOwnProperty("on")){var d=keys.on.indexOf(f);if(d>0){var c=keys.on[d];keys.on[d]=keys.on[d-1];keys.on[d-1]=c;mwf.standard.preferences.set(e,JSON.stringify(keys))}}};this.moveDown=function(e,f){keys=b(e);if(keys.hasOwnProperty("on")){var d=keys.on.indexOf(f);if(d>-1&&d<keys.on.length-1){var c=keys.on[d];keys.on[d]=keys.on[d+1];keys.on[d+1]=c;mwf.standard.preferences.set(e,JSON.stringify(keys))}}}};